<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <!-- get 요청 -->
    <h1> 로그인 get 요청</h1>
    <!-- form 전송은 클라이언트가 서버로 데이터를 보내는  -->
    <!-- action은 요청을 보낼 주소(제 서버에 보낸다는 가정 하에 도메인을 뗀 나머지 주소) -->
    <!-- ex) localhost:8000/get으로 보내고 싶다면 아래와 같이! -->
    <!-- method는 어떤 방식의 요청을 사용할 것인지?(get, post) -->
    <form action="/get" method="get" name="login">
      <fieldset>
        <legend>로그인정보</legend>
        <input type="text" name="id">
        <input type="password" name="pw">
      </fieldset>
      <input type="radio" name="gender" value="male" id="man"> <label for="man">남자</label>
      <input type="radio" name="gender" value="female" id="woman"> <label for="woman">여자</label>

      <!-- button 타입인 submit인 경우 form태그의 정보에 맞게 form을 제출 -->
      <button type="submit">제출</button>
    </form>
    <h1>회원가입</h1>
    <form action="/join" method="get">
      <input type="text" name="id">
      <input type="password" name="pw">
      <input type="text" name="name">
      <input type="text" name="email">
      <button type="submit">제출</button>
    </form>

    <!-- post요청  -->
    </form>
    <h1>회원가입 post요청</h1>
    <form action="/post/ver2" method="post">
      <input type="text" name="id" pattern="^([a-zA-Z0-9가-힣]){4,12}$" title="소문자, 대문자, 한글, 숫자로 조합된 4~12자리 문자열" required>
      <input type="password" name="pw" oninput="validCheckPw(this)">
      <!-- <div id="error-pw"></div> -->
      <input type="text" name="name">
      <input type="text" name="email">
      <button type="submit">제출</button>
    </form>

    <form action="">
      이름 <input type="text">
      <fieldset>
        <legend>성별</legend>
        <input type="radio" name="gender" value="male" id="man"> <label for="man">남자</label>
        <input type="radio" name="gender" value="female" id="woman"> <label for="woman">여자</label>
      </fieldset>
      <fieldset>
        <legend>생년월일</legend>
        <input type="select" name="gender" value="male" id="travle"> <label for="travle">여행</label>
        <input type="select" name="gender" value="female" id="fassion"><label for="fassion">패션</label>
        <input type="select" name="gender" value="female" id="food"><label for="food">음식</label>
      </fieldset>

    </form>


    <form action="/validation" method="post">
      <h1>회원가입 요청 validation</h1>
      아이디 <input type="text" oninput="validID(this)" pattern="^([a-z0-9]){5,}$" title="소문자, 숫자" required>
      <div id="error-id"></div>
      비밀번호 <input type="password" pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*()_-+=[]{}~?:;`|/]).{8}$" oninput="validCheckPw(this)" required>
      <div id="error-pw"></div>
      전화번호 <input type="tel" pattern="[0-9]{2,3}-[0-9]{3,4}-[0-9]{3,4}" oninput="validCheckPhone(this)" required>
      <div id="error-phone"></div>
      이름 <input type="text" required>
      <legend>성별</legend>
      <input type="radio" name="gender" value="male" id="man" required> <label for="man">남자</label>
      <input type="radio" name="gender" value="female" id="woman"> <label for="woman">여자</label>
      </fieldset>
      <button type="submit">제출</button>
    </form>

    <script>
      function validID(el) {
        const regexID = /^([a-z0-9]){5,}$/
        const value = el.value
        const error = document.getElementById("error-id")
        if (regexID.test(value)) {
          console.log("정규식일치")
        } else {
          error.innerHTML = "소문자, 숫자로 조합된 5자 이상"
        }
      }

      function validCheckPhone(el) {
        const regexPhone = /[0-9]{2,3}-[0-9]{3,4}-[0-9]{3,4}/
        const value = el.value
        const error = document.getElementById("error-phone")
        if (regexPhone.test(value)) {
          console.log("정규식일치")
        } else {
          error.innerHTML = "전화 번호 형식을 맞추세요"
        }
      }

      function validCheckPw(el) {
        const regexPw = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})$/
        const value = el.value
        const error = document.getElementById("error-pw")
        if (regexPw.test(value)) {
          console.log("정규식 일치")
        } else {
          error.innerHTML = "소문자 숫자로 조합된 8~12자로 입력"
          console.log("정규식 불일치")
        }
      }
    </script>
  </body>
</html>